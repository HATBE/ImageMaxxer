<app-header></app-header>
<main class="p-3 bg-gray-950">
  <router-outlet></router-outlet>

  <!-- TODO: DELETE-->

  <form class="max-w-2xl mx-auto text-black p-6 bg-white rounded-2xl shadow space-y-8 text-sm">
    <h2 class="text-2xl font-bold mb-4">Image Processor</h2>

    <!-- FORMAT CONVERSION -->
    <div class="text-black">
      <label class="block font-medium mb-2">Convert To Format (optional)</label>
      <div class="grid grid-cols-3 gap-2">
        <label class="flex items-center gap-2">
          <input type="radio" name="format" value="" class="accent-blue-600" checked />
          Original
        </label>
        <label class="flex items-center gap-2">
          <input type="radio" name="format" value="jpg" class="accent-blue-600" />
          JPG
        </label>
        <label class="flex items-center gap-2">
          <input type="radio" name="format" value="png" class="accent-blue-600" />
          PNG
        </label>
        <label class="flex items-center gap-2">
          <input type="radio" name="format" value="gif" class="accent-blue-600" />
          GIF
        </label>
        <label class="flex items-center gap-2">
          <input type="radio" name="format" value="webp" class="accent-blue-600" />
          WEBP
        </label>
        <label class="flex items-center gap-2">
          <input type="radio" name="format" value="avif" class="accent-blue-600" />
          AVIF
        </label>
        <label class="flex items-center gap-2">
          <input type="radio" name="format" value="tiff" class="accent-blue-600" />
          TIFF
        </label>
        <label class="flex items-center gap-2">
          <input type="radio" name="format" value="heif" class="accent-blue-600" />
          HEIF
        </label>
      </div>
    </div>

    <!-- RESIZER -->
    <div>
      <label class="block font-medium mb-2">Resize (optional)</label>
      <div class="flex gap-4 mb-2">
        <input
          type="number"
          name="width"
          placeholder="Width (px)"
          class="w-1/2 border rounded px-3 py-2 bg-white/10 backdrop-blur"
        />
        <input
          type="number"
          name="height"
          placeholder="Height (px)"
          class="w-1/2 border rounded px-3 py-2 bg-white/10 backdrop-blur"
        />
      </div>

      <!-- Aspect Ratio -->
      <label class="block font-medium mb-2">Aspect Ratio</label>
      <div class="flex flex-wrap gap-4 mb-2">
        <label class="flex items-center gap-2">
          <input
            type="radio"
            name="aspect_ratio"
            value=""
            class="aspect-radio accent-blue-600"
            checked
          />
          Original
        </label>
        <label class="flex items-center gap-2">
          <input
            type="radio"
            name="aspect_ratio"
            value="1:1"
            class="aspect-radio accent-blue-600"
          />
          1:1
        </label>
        <label class="flex items-center gap-2">
          <input
            type="radio"
            name="aspect_ratio"
            value="16:9"
            class="aspect-radio accent-blue-600"
          />
          16:9
        </label>
        <label class="flex items-center gap-2">
          <input
            type="radio"
            name="aspect_ratio"
            value="4:3"
            class="aspect-radio accent-blue-600"
          />
          4:3
        </label>
        <label class="flex items-center gap-2">
          <input
            type="radio"
            name="aspect_ratio"
            value="3:2"
            class="aspect-radio accent-blue-600"
          />
          3:2
        </label>
        <label class="flex items-center gap-2">
          <input
            type="radio"
            name="aspect_ratio"
            value="custom"
            class="aspect-radio accent-blue-600"
            onclick="toggleCustomAspect(true)"
          />
          Custom
        </label>
      </div>

      <div id="custom-aspect-wrapper" class="hidden flex gap-2">
        <input
          type="number"
          name="custom_aspect_width"
          placeholder="Width ratio"
          min="1"
          class="w-1/2 border rounded px-3 py-2 bg-white/10 backdrop-blur"
        />
        <input
          type="number"
          name="custom_aspect_height"
          placeholder="Height ratio"
          min="1"
          class="w-1/2 border rounded px-3 py-2 bg-white/10 backdrop-blur"
        />
      </div>

      <label class="flex items-center gap-2 mt-3">
        <input type="checkbox" name="fill_mode" class="accent-blue-600" />
        <span>Fill empty space if needed</span>
      </label>
    </div>

    <!-- FILTERS -->
    <div>
      <label class="block font-medium mb-2">Filters (optional)</label>
      <div class="grid grid-cols-2 gap-2">
        <label class="flex items-center gap-2">
          <input type="checkbox" name="grayscale" class="accent-blue-600" />
          Grayscale
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" name="sepia" class="accent-blue-600" />
          Sepia
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" name="tint" class="accent-blue-600" />
          Tint / Overlay
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" name="blur" class="accent-blue-600" />
          Blur
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" name="sharpen" class="accent-blue-600" />
          Sharpen
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" name="invert" class="accent-blue-600" />
          Invert
        </label>
      </div>
    </div>

    <!-- MANIPULATION -->
    <div>
      <label class="block font-medium mb-2">Manipulation (optional)</label>

      <label class="block mb-1">
        Rotate:
        <span id="rotate-value" class="ml-1 font-semibold">0°</span>
      </label>
      <input
        type="range"
        name="rotate"
        min="-360"
        max="360"
        value="0"
        class="w-full accent-blue-600"
        oninput="document.getElementById('rotate-value').textContent = this.value + '°'"
      />

      <label class="flex items-center gap-2 mt-3 mb-1">
        <input type="checkbox" name="flip" class="accent-blue-600" />
        Flip Image
      </label>
      <label class="flex items-center gap-2 mb-1">
        <input type="checkbox" name="border" class="accent-blue-600" />
        Add Border
      </label>
      <input
        type="text"
        name="background"
        placeholder="Background color (e.g. #fff)"
        class="w-full border rounded px-3 py-2 bg-black/10 backdrop-blur"
      />
    </div>

    <!-- COMPRESSION -->
    <div>
      <label class="block font-medium mb-2">Compression Quality (0–100)</label>
      <input
        type="number"
        name="quality"
        min="0"
        max="100"
        placeholder="Leave blank to keep original quality"
        class="w-full border rounded px-3 py-2 bg-black/10 backdrop-blur"
      />
    </div>

    <!-- SUBMIT -->
    <div>
      <button
        type="submit"
        class="w-full bg-blue-600 hover:bg-blue-700 text-black font-semibold py-2 px-4 rounded"
      >
        Submit
      </button>
    </div>
  </form>

  <!-- JS for custom aspect ratio toggle -->
  <script>
    function toggleCustomAspect(show) {
      const wrapper = document.getElementById('custom-aspect-wrapper');
      wrapper.classList.toggle('hidden', !show);
    }

    document.querySelectorAll('input.aspect-radio').forEach((radio) => {
      radio.addEventListener('change', (e) => {
        toggleCustomAspect(e.target.value === 'custom');
      });
    });
  </script>

  <!-- TODO: DELETE-->
</main>
<app-footer></app-footer>
